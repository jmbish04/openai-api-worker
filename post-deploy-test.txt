Post-Deployment Test Results - Fri Sep 19 10:59:32 PDT 2025
========================================

[0;34mğŸš€ Starting Post-Deployment Tests[0m
[0;34mWorker URL: https://openai-api-worker.hacolby.workers.dev[0m
[0;34mAPI Key: 6502241638...[0m
[0;34mOutput file: post-deploy-test.txt[0m
[0;34m=== ğŸ¥ Health Check ===[0m
[0;32mâœ… Health check passed[0m
Response: {"status":"healthy","service":"openai-api-worker","timestamp":"2025-09-19T17:59:32.689Z","version":"2.1.0","providers":{"cloudflare":true,"openai":true,"gemini":true}}
[0;34m=== ğŸ“‹ Models List ===[0m
[0;32mâœ… Models endpoint working[0m
Found 173 models
Sample models:
  â€¢ gpt-4 (openai)
  â€¢ gpt-4o (openai)
  â€¢ gpt-3.5-turbo (openai)
[0;34m=== ğŸ’¬ Basic Chat Completions ===[0m
[0;32mâœ… Basic chat completions working[0m
Response: Hello! I'm just a computer program, so I don't have feelings, but I'm here and ready to assist you with anything you need. How can I help you today?
[0;34m=== ğŸ§  Memory-Enabled Completions ===[0m
[0;32mâœ… Memory-enabled completions working[0m
Response: Hello Alice, nice to meet you. I will do my best to remember your name.
[0;34m=== ğŸ§  Memory Follow-up Test ===[0m
[0;32mâœ… Memory follow-up working[0m
Response: I apologize, but I do not have access to personal information such as your name. If you'd
[0;34m=== ğŸ“‹ Structured Completions ===[0m
[0;34mTesting OpenAI structured completions...[0m
[0;31mâŒ OpenAI structured completions failed[0m
Response: {"error":{"message":"OpenAI API error","type":"api_error","details":"400 Invalid schema for response_format 'person_schema': In context=(), 'additionalProperties' is required to be supplied and to be false.","request_id":"325b4lojnxq"}}
[0;34mTesting Gemini structured completions...[0m
[0;32mâœ… Gemini structured completions working[0m
Response: {"name":"Alice Johnson","age":30,"city":"New York"}
[0;34mTesting Cloudflare structured completions...[0m
[0;32mâœ… Cloudflare structured completions working[0m
Response: {
  "name": "Emily Wilson",
  "age": 32,
  "city": "San Francisco"
}
[0;34m=== ğŸ“ Text-Only Completions ===[0m
[0;32mâœ… Text-only completions working[0m
Response: Hello! How can I assist you today?
[0;34m=== ğŸ”„ Legacy Completions ===[0m
[0;32mâœ… Legacy completions working[0m
Response: Hello! How can I assist you today?
[0;34m=== ğŸ”’ Authentication Test ===[0m
[0;32mâœ… Authentication properly enforced[0m
[0;34m=== ğŸš« 404 Handling ===[0m
[0;32mâœ… 404 handling working[0m
[0;34m=== ğŸš« Memory Error Handling ===[0m
[0;32mâœ… Memory validation working[0m
[0;34m=== ğŸ”„ Multi-Provider Model Testing ===[0m
Testing Cloudflare models...
Found Cloudflare models:
  â€¢ @cf/openai/gpt-oss-120b
  â€¢ @cf/openai/gpt-oss-20b
  â€¢ @cf/qwen/qwen1.5-0.5b-chat
  â€¢ @cf/qwen/qwen1.5-7b-chat-awq
  â€¢ @cf/qwen/qwen2.5-coder-32b-instruct
  â€¢ @cf/qwen/qwen1.5-1.8b-chat
  â€¢ @cf/qwen/qwen1.5-14b-chat-awq
  â€¢ @cf/qwen/qwq-32b
  â€¢ @cf/baai/bge-m3
  â€¢ @cf/baai/bge-small-en-v1.5
  â€¢ @cf/baai/bge-base-en-v1.5
  â€¢ @cf/baai/bge-reranker-base
  â€¢ @cf/baai/bge-large-en-v1.5
  â€¢ @cf/huggingface/distilbert-sst-2-int8
  â€¢ @cf/google/gemma-2b-it-lora
  â€¢ @cf/google/gemma-7b-it-lora
  â€¢ @cf/google/embeddinggemma-300m
  â€¢ @cf/google/gemma-3-12b-it
  â€¢ @cf/meta/llama-3-8b-instruct
  â€¢ @cf/meta/llama-3.2-3b-instruct
  â€¢ @cf/meta/llama-guard-3-8b
  â€¢ @cf/meta/llama-2-7b-chat-fp16
  â€¢ @cf/meta/llama-2-7b-chat-int8
  â€¢ @cf/meta/llama-3.1-8b-instruct-fp8
  â€¢ @cf/meta/llama-3.2-1b-instruct
  â€¢ @cf/meta/llama-3.3-70b-instruct-fp8-fast
  â€¢ @cf/meta/llama-3.1-8b-instruct-awq
  â€¢ @cf/meta/llama-3-8b-instruct-awq
  â€¢ @cf/meta/llama-3.2-11b-vision-instruct
  â€¢ @cf/meta/llama-4-scout-17b-16e-instruct
  â€¢ @cf/thebloke/discolm-german-7b-v1-awq
  â€¢ @cf/mistral/mistral-7b-instruct-v0.1
  â€¢ @cf/mistral/mistral-7b-instruct-v0.2-lora
  â€¢ @cf/myshell-ai/melotts
  â€¢ @cf/tinyllama/tinyllama-1.1b-chat-v1.0
  â€¢ @cf/fblgit/una-cybertron-7b-v2-bf16
  â€¢ @cf/llava-hf/llava-1.5-7b-hf
  â€¢ @cf/deepseek-ai/deepseek-r1-distill-qwen-32b
  â€¢ @cf/deepseek-ai/deepseek-math-7b-instruct
  â€¢ @cf/runwayml/stable-diffusion-v1-5-inpainting
  â€¢ @cf/runwayml/stable-diffusion-v1-5-img2img
  â€¢ @cf/deepgram/aura-1
  â€¢ @cf/black-forest-labs/flux-1-schnell
  â€¢ @cf/microsoft/phi-2
  â€¢ @cf/bytedance/stable-diffusion-xl-lightning
  â€¢ @cf/meta-llama/llama-2-7b-chat-hf-lora
  â€¢ @cf/lykon/dreamshaper-8-lcm
  â€¢ @cf/leonardo/phoenix-1.0
  â€¢ @cf/leonardo/lucid-origin
  â€¢ @cf/stabilityai/stable-diffusion-xl-base-1.0
  â€¢ @cf/tiiuae/falcon-7b-instruct
  â€¢ @cf/unum/uform-gen2-qwen-500m
  â€¢ @cf/mistralai/mistral-small-3.1-24b-instruct
  â€¢ @cf/defog/sqlcoder-7b-2
  â€¢ @cf/openchat/openchat-3.5-0106
Testing Cloudflare model: @cf/openai/gpt-oss-120b
[0;32mâœ… Cloudflare model working: @cf/openai/gpt-oss-120b[0m
Response: {"id":"resp_4e8fb9cc2cd446248e77a9d67e855e1d","created_at":1758304785,"instructions":null,"metadata":null,"model":"@cf/openai/gpt-oss-120b","object":"response","output":[{"id":"rs_987cf2c9a8894908a5417b08cfd20c5d","content":[{"text":"We need to respond as ChatGPT. The user just says \"Hello\". Simple greeting. Should respond politely.","type":"reasoning_text"}],"summary":[],"type":"reasoning","encrypted_content":null,"status":null},{"id":"msg_a5a2c37f92eb493eb9d8b9d1c56b3f25","content":[{"annotations":[],"text":"Hello! How can I assist you today?","type":"output_text","logprobs":null}],"role":"assistant","status":"completed","type":"message"}],"parallel_tool_calls":true,"temperature":1,"tool_choice":"auto","tools":[],"top_p":1,"background":false,"max_output_tokens":130998,"max_tool_calls":null,"previous_response_id":null,"prompt":null,"reasoning":null,"service_tier":"auto","status":"completed","text":null,"top_logprobs":0,"truncation":"disabled","usage":{"prompt_tokens":3,"completion_tokens":33,"total_tokens":36},"user":null}
[0;34m=== âš¡ Performance Test ===[0m
[0;32mâœ… Performance test passed[0m
Response time: 0s
[0;34mğŸ‰ === Comprehensive Test Summary Complete ===[0m

ğŸ“ Worker URL: https://openai-api-worker.hacolby.workers.dev
ğŸŒ Landing Page: https://openai-api-worker.hacolby.workers.dev/
ğŸ“‹ OpenAPI Spec: https://openai-api-worker.hacolby.workers.dev/openapi.json
â¤ï¸  Health Check: https://openai-api-worker.hacolby.workers.dev/health

[0;34m=== ğŸ”— Core API Integration Summary ===[0m
[0;32mâœ… Core API integration: ACTIVE[0m
ğŸ“Š Dynamic model discovery: 173 models available
ğŸ“‹ Enhanced metadata: Available

[0;34m=== ğŸš€ Feature Summary ===[0m
[0;32mâœ… Core Features:[0m
  â€¢ OpenAI-compatible API
  â€¢ Multi-provider support (OpenAI, Gemini, Cloudflare)
  â€¢ Streaming and non-streaming responses
  â€¢ Memory-enabled conversations
  â€¢ Structured JSON responses
  â€¢ Legacy completions support
  â€¢ Comprehensive error handling
  â€¢ CORS support
  â€¢ Authentication

ğŸ”§ Available Endpoints:
  â€¢ GET  /health - Health check
  â€¢ GET  /v1/models - List all available models
  â€¢ POST /v1/chat/completions - Standard chat completions
  â€¢ POST /v1/chat/completions/structured - JSON schema responses
  â€¢ /v1/chat/completions/text - Text-only responses
  â€¢ POST /v1/completions - Legacy prompt-based completions
  â€¢ POST /v1/completions/withmemory - Memory-enabled completions
  â€¢ GET  /openapi.json - OpenAPI 3.0 specification
  â€¢ GET  / - Interactive landing page

ğŸ§  Memory Features:
  â€¢ KV-based conversation memory
  â€¢ Keyword-based memory isolation
  â€¢ Cross-request context persistence
  â€¢ Memory validation and error handling

ğŸ”„ Model Providers:
  â€¢ OpenAI: GPT models with full API compatibility
  â€¢ Google Gemini: Advanced reasoning models
  â€¢ Cloudflare AI: Edge-optimized models
  â€¢ Dynamic model discovery via Core API

[0;32mğŸš€ Ready to use! Try opening https://openai-api-worker.hacolby.workers.dev in your browser.[0m
ğŸ“– Check the OpenAPI spec at https://openai-api-worker.hacolby.workers.dev/openapi.json for detailed documentation.

ğŸ“„ Full test results saved to: post-deploy-test.txt
