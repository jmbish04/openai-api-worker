Post-Deployment Test Results - Fri Sep 19 10:59:32 PDT 2025
========================================

[0;34m🚀 Starting Post-Deployment Tests[0m
[0;34mWorker URL: https://openai-api-worker.hacolby.workers.dev[0m
[0;34mAPI Key: 6502241638...[0m
[0;34mOutput file: post-deploy-test.txt[0m
[0;34m=== 🏥 Health Check ===[0m
[0;32m✅ Health check passed[0m
Response: {"status":"healthy","service":"openai-api-worker","timestamp":"2025-09-19T17:59:32.689Z","version":"2.1.0","providers":{"cloudflare":true,"openai":true,"gemini":true}}
[0;34m=== 📋 Models List ===[0m
[0;32m✅ Models endpoint working[0m
Found 173 models
Sample models:
  • gpt-4 (openai)
  • gpt-4o (openai)
  • gpt-3.5-turbo (openai)
[0;34m=== 💬 Basic Chat Completions ===[0m
[0;32m✅ Basic chat completions working[0m
Response: Hello! I'm just a computer program, so I don't have feelings, but I'm here and ready to assist you with anything you need. How can I help you today?
[0;34m=== 🧠 Memory-Enabled Completions ===[0m
[0;32m✅ Memory-enabled completions working[0m
Response: Hello Alice, nice to meet you. I will do my best to remember your name.
[0;34m=== 🧠 Memory Follow-up Test ===[0m
[0;32m✅ Memory follow-up working[0m
Response: I apologize, but I do not have access to personal information such as your name. If you'd
[0;34m=== 📋 Structured Completions ===[0m
[0;34mTesting OpenAI structured completions...[0m
[0;31m❌ OpenAI structured completions failed[0m
Response: {"error":{"message":"OpenAI API error","type":"api_error","details":"400 Invalid schema for response_format 'person_schema': In context=(), 'additionalProperties' is required to be supplied and to be false.","request_id":"325b4lojnxq"}}
[0;34mTesting Gemini structured completions...[0m
[0;32m✅ Gemini structured completions working[0m
Response: {"name":"Alice Johnson","age":30,"city":"New York"}
[0;34mTesting Cloudflare structured completions...[0m
[0;32m✅ Cloudflare structured completions working[0m
Response: {
  "name": "Emily Wilson",
  "age": 32,
  "city": "San Francisco"
}
[0;34m=== 📝 Text-Only Completions ===[0m
[0;32m✅ Text-only completions working[0m
Response: Hello! How can I assist you today?
[0;34m=== 🔄 Legacy Completions ===[0m
[0;32m✅ Legacy completions working[0m
Response: Hello! How can I assist you today?
[0;34m=== 🔒 Authentication Test ===[0m
[0;32m✅ Authentication properly enforced[0m
[0;34m=== 🚫 404 Handling ===[0m
[0;32m✅ 404 handling working[0m
[0;34m=== 🚫 Memory Error Handling ===[0m
[0;32m✅ Memory validation working[0m
[0;34m=== 🔄 Multi-Provider Model Testing ===[0m
Testing Cloudflare models...
Found Cloudflare models:
  • @cf/openai/gpt-oss-120b
  • @cf/openai/gpt-oss-20b
  • @cf/qwen/qwen1.5-0.5b-chat
  • @cf/qwen/qwen1.5-7b-chat-awq
  • @cf/qwen/qwen2.5-coder-32b-instruct
  • @cf/qwen/qwen1.5-1.8b-chat
  • @cf/qwen/qwen1.5-14b-chat-awq
  • @cf/qwen/qwq-32b
  • @cf/baai/bge-m3
  • @cf/baai/bge-small-en-v1.5
  • @cf/baai/bge-base-en-v1.5
  • @cf/baai/bge-reranker-base
  • @cf/baai/bge-large-en-v1.5
  • @cf/huggingface/distilbert-sst-2-int8
  • @cf/google/gemma-2b-it-lora
  • @cf/google/gemma-7b-it-lora
  • @cf/google/embeddinggemma-300m
  • @cf/google/gemma-3-12b-it
  • @cf/meta/llama-3-8b-instruct
  • @cf/meta/llama-3.2-3b-instruct
  • @cf/meta/llama-guard-3-8b
  • @cf/meta/llama-2-7b-chat-fp16
  • @cf/meta/llama-2-7b-chat-int8
  • @cf/meta/llama-3.1-8b-instruct-fp8
  • @cf/meta/llama-3.2-1b-instruct
  • @cf/meta/llama-3.3-70b-instruct-fp8-fast
  • @cf/meta/llama-3.1-8b-instruct-awq
  • @cf/meta/llama-3-8b-instruct-awq
  • @cf/meta/llama-3.2-11b-vision-instruct
  • @cf/meta/llama-4-scout-17b-16e-instruct
  • @cf/thebloke/discolm-german-7b-v1-awq
  • @cf/mistral/mistral-7b-instruct-v0.1
  • @cf/mistral/mistral-7b-instruct-v0.2-lora
  • @cf/myshell-ai/melotts
  • @cf/tinyllama/tinyllama-1.1b-chat-v1.0
  • @cf/fblgit/una-cybertron-7b-v2-bf16
  • @cf/llava-hf/llava-1.5-7b-hf
  • @cf/deepseek-ai/deepseek-r1-distill-qwen-32b
  • @cf/deepseek-ai/deepseek-math-7b-instruct
  • @cf/runwayml/stable-diffusion-v1-5-inpainting
  • @cf/runwayml/stable-diffusion-v1-5-img2img
  • @cf/deepgram/aura-1
  • @cf/black-forest-labs/flux-1-schnell
  • @cf/microsoft/phi-2
  • @cf/bytedance/stable-diffusion-xl-lightning
  • @cf/meta-llama/llama-2-7b-chat-hf-lora
  • @cf/lykon/dreamshaper-8-lcm
  • @cf/leonardo/phoenix-1.0
  • @cf/leonardo/lucid-origin
  • @cf/stabilityai/stable-diffusion-xl-base-1.0
  • @cf/tiiuae/falcon-7b-instruct
  • @cf/unum/uform-gen2-qwen-500m
  • @cf/mistralai/mistral-small-3.1-24b-instruct
  • @cf/defog/sqlcoder-7b-2
  • @cf/openchat/openchat-3.5-0106
Testing Cloudflare model: @cf/openai/gpt-oss-120b
[0;32m✅ Cloudflare model working: @cf/openai/gpt-oss-120b[0m
Response: {"id":"resp_4e8fb9cc2cd446248e77a9d67e855e1d","created_at":1758304785,"instructions":null,"metadata":null,"model":"@cf/openai/gpt-oss-120b","object":"response","output":[{"id":"rs_987cf2c9a8894908a5417b08cfd20c5d","content":[{"text":"We need to respond as ChatGPT. The user just says \"Hello\". Simple greeting. Should respond politely.","type":"reasoning_text"}],"summary":[],"type":"reasoning","encrypted_content":null,"status":null},{"id":"msg_a5a2c37f92eb493eb9d8b9d1c56b3f25","content":[{"annotations":[],"text":"Hello! How can I assist you today?","type":"output_text","logprobs":null}],"role":"assistant","status":"completed","type":"message"}],"parallel_tool_calls":true,"temperature":1,"tool_choice":"auto","tools":[],"top_p":1,"background":false,"max_output_tokens":130998,"max_tool_calls":null,"previous_response_id":null,"prompt":null,"reasoning":null,"service_tier":"auto","status":"completed","text":null,"top_logprobs":0,"truncation":"disabled","usage":{"prompt_tokens":3,"completion_tokens":33,"total_tokens":36},"user":null}
[0;34m=== ⚡ Performance Test ===[0m
[0;32m✅ Performance test passed[0m
Response time: 0s
[0;34m🎉 === Comprehensive Test Summary Complete ===[0m

📍 Worker URL: https://openai-api-worker.hacolby.workers.dev
🌐 Landing Page: https://openai-api-worker.hacolby.workers.dev/
📋 OpenAPI Spec: https://openai-api-worker.hacolby.workers.dev/openapi.json
❤️  Health Check: https://openai-api-worker.hacolby.workers.dev/health

[0;34m=== 🔗 Core API Integration Summary ===[0m
[0;32m✅ Core API integration: ACTIVE[0m
📊 Dynamic model discovery: 173 models available
📋 Enhanced metadata: Available

[0;34m=== 🚀 Feature Summary ===[0m
[0;32m✅ Core Features:[0m
  • OpenAI-compatible API
  • Multi-provider support (OpenAI, Gemini, Cloudflare)
  • Streaming and non-streaming responses
  • Memory-enabled conversations
  • Structured JSON responses
  • Legacy completions support
  • Comprehensive error handling
  • CORS support
  • Authentication

🔧 Available Endpoints:
  • GET  /health - Health check
  • GET  /v1/models - List all available models
  • POST /v1/chat/completions - Standard chat completions
  • POST /v1/chat/completions/structured - JSON schema responses
  • /v1/chat/completions/text - Text-only responses
  • POST /v1/completions - Legacy prompt-based completions
  • POST /v1/completions/withmemory - Memory-enabled completions
  • GET  /openapi.json - OpenAPI 3.0 specification
  • GET  / - Interactive landing page

🧠 Memory Features:
  • KV-based conversation memory
  • Keyword-based memory isolation
  • Cross-request context persistence
  • Memory validation and error handling

🔄 Model Providers:
  • OpenAI: GPT models with full API compatibility
  • Google Gemini: Advanced reasoning models
  • Cloudflare AI: Edge-optimized models
  • Dynamic model discovery via Core API

[0;32m🚀 Ready to use! Try opening https://openai-api-worker.hacolby.workers.dev in your browser.[0m
📖 Check the OpenAPI spec at https://openai-api-worker.hacolby.workers.dev/openapi.json for detailed documentation.

📄 Full test results saved to: post-deploy-test.txt
